<!DOCTYPE html>
<html>
  <head>
   <title>todoList</title>
    <!--bootstrap cdn -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
   <!--fonts --->
    <link href="https://fonts.googleapis.com/css?family=Righteous" rel="stylesheet">
    
    <style type="text/css">
      :root {
        --righteous-font: 'Righteous', cursive;
      }
      body{
        background-image: url("https://i.pinimg.com/originals/b7/2d/70/b72d706d2dd0238e9f14452ede43aad0.jpg");
        min-height:100vh;
        z-index: -10;
        background-position:center;
        background-size:cover;
        background-repeat:no-repeat;
        color: white;
        font-size:1.3rem;
      }
      h1{
        margin-top:12rem;
        margin-bottom:0px;
        padding-bottom:0px;
        font-family:var(--righteous-font);
       
      }
      ul{
        list-style:none;
        margin-top:2rem;
       /* border-top:2px solid white; */
        /*display:none ;*/
      }
      li{
        border-bottom:1px solid white;
        padding: 0.5rem 0 0.5rem 0;
        margin: 0 1rem 0 1rem;
      }
      
      input[type=checkbox]{
        float:right;
        height:20px;
        width:20px;
        border:1px solid white;
       
        
      }
      .hero{
        /*background-color:rgba(50,52,87,0.5);*/
        background-color: rgba(31, 34, 118, 0.5);
        min-height:100vh;
        min-width:100vw;
        top:0;
        bottom:0;
        position: absolute;
        
      }
      .lead{
        font-size:1.5rem;
        font-family:var(--righteous-font);
      }
      .checkboxes{
        float:right;
        line-height:15px;
        width:17px;
        height:17px;
        background-color:#e9ecef;
        border: 1px solid #e9ecef;
        border-radius: 3px;
      }
    </style>     
  </head>
  
  <body>
    <div class="hero">
        <div class="container">
          <h1 class="text-center display-2"> TodoList </h1>
          <p class="lead text-center">Welcome to my todolist application </p>
          <div class="row">
            <form id="form" class="col-8 mx-auto">
              <div class="input-group">
                <input id="input" placeholder="Enter todo list item" class="form-control"  value="this is a todo list item" >
                <span>
                  <button id="btn" type="bottom" class="btn btn-primary">Submit</button>
                </span>
              </div>
            </form>
          </div>
          <div class="row">
            <ul id="list" class="list col-lg-6 col-8 mx-auto">
             <!-- <li>this is a todolist item <input type="checkbox" aria-label="Checkbox for following text input"></li>
              <li>this is a todolist item <input type="checkbox" aria-label="Checkbox for following text input"></li>
              <li>this is a todolist item <input type="checkbox" aria-label="Checkbox for following text input"></li> --->
            </ul>
          </div>
          <div class="row">
            <button id="btnClr" type="button" class="btn btn-primary mx-auto btnHide">Clear</button>
          </div>				
      </div>
    </div>
   
    <script type="text/javascript">
      window.onload = function(){
        //variables
        var form = document.getElementById("form");
        var input =document.getElementById("input");
        var btn = document.getElementById("btn");
        var list = document.getElementById("list");
        var btnClr = document.getElementById("btnClr");	
        var id = 1;
        var listItem="";
        // listItem = {item: "todo item", checked: flase}
        var todoList = [];
        ////button event listener 
        btn.addEventListener("click",addTodoItem);
       //list event listener
        list.addEventListener("click", boxChecked);
       //event listener for clear list
        btnClr.addEventListener("click", clearList);
        
        if(localStorage.length <= 0) {
          btnClr.style.display = "none"; //hide clear btn	
          console.log("button");
        }
        //checking localstorage has data
        if(localStorage.length > 0) {
          displayList();
        }


        //add todo item to listener
        function addTodoItem(){
          if(input.value === ""){
            alert("You must enter some value!");
          }
          else {
            if (list.style.borderTop === ""){
              console.log("here!")
              list.style.borderTop = "2px solid white";
              btnClr.style.display = "inline";
            }
            var text = input.value;	
            var item = `<li id="li-${id}">${text}<input id="box-${id}" 			class="checkboxes" type="checkbox"></li>`;				
            list.insertAdjacentHTML('beforeend', item);	
            liItem = {item: text, checked: false};
            todoList.push(liItem);		
            id++;
            addToLocalStorage()
            form.reset();
            
            
          }
        }
      }
    </script>
   
  </body>
</html>